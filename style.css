/* グローバル設定と:root 変数定義 */
:root {
    /* JSから制御する変数 (デフォルト値) */
    --bg-color: #f0f0f0; /* 背景 */
    --base-color: #d9d9d9; /* ルーレット土台 */
    --divider-color: #333333; /* マスの仕切り線 */
    --wheel-color: #fffacd; /* ウィール */
    --wheel-line-color: #f0e68c; /* ウィールの内側のライン */
    --hub-bg-color: #d3d3d3; /* ハブ */
    --hub-border-color: #a9a9a9; /* ハブの外周 */
    --axis-color: #5a5a5a; /* ハブ中心の軸 */
    
    /* セグメントのグラデーション (JSが生成) */
    --segments-gradient: conic-gradient(#f00 0% 50%, #00f 50% 100%);
    
    /* レイアウト (JSが制御) */
    --segment-radius: 372.5px; 
}

body {
    font-family: sans-serif;
    margin: 0;
    padding: 20px;
    background-color: #f0f0f0; /* ページ全体の背景は薄いグレーで固定 */
    color: #333;
    transition: background-color 0.3s;
}

/* --- メインレイアウト --- */
.app-container {
    display: flex;
    flex-wrap: wrap;
    gap: 20px;
}

.color-settings {
    flex: 1;
    min-width: 350px;
    background: #fff;
    border-radius: 8px;
    padding: 20px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.05);
}

.roulette-container {
    flex: 2;
    min-width: 600px;
    min-height: 600px;
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 20px;
    background: var(--bg-color); /* JSで制御する背景色をここに適用 */
    border-radius: 8px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.05);
}

/* --- 設定パネルのスタイル --- */
.control-group {
    margin-bottom: 25px;
    border-bottom: 1px solid #eee;
    padding-bottom: 15px;
}
.control-group:last-child {
    border-bottom: none;
}

h2 {
    margin-top: 0;
}
h3 {
    margin-bottom: 10px;
}

select, button, input[type="range"] {
    width: 100%;
    margin-bottom: 5px;
}
button {
    cursor: pointer;
    background: #007bff;
    color: white;
    border: none;
    padding: 8px 12px;
    border-radius: 4px;
}
select {
    padding: 8px;
    border-radius: 4px;
    border: 1px solid #ccc;
    background-color: #fff;
}
button:hover {
    background: #0056b3;
}
button#profile-delete-btn {
    background: #dc3545;
}
button#profile-delete-btn:hover {
    background: #a71d2a;
}
textarea {
    width: 100%;
    box-sizing: border-box;
    font-family: monospace;
}
.profile-main-controls {
    display: flex;
    gap: 5px;
}
.profile-main-controls select {
    flex-grow: 1;
}
.profile-main-controls button {
    width: auto;
    flex-shrink: 0;
}

.picker-grid {
    display: grid;
    grid-template-columns: auto 1fr;
    gap: 8px;
    align-items: center;
}
.picker-grid label {
    justify-self: start;
}
.picker-grid input[type="color"] {
    width: 100%;
    height: 30px;
    padding: 0;
    border: 1px solid #ccc;
    border-radius: 4px;
}

/* --- ルーレット本体のスタイル --- */
.roulette-area {
    /* サイズはJSが--segment-radiusを基に計算 (CSS変数でも可) */
    /* ここでは 1000px x 1000px の親を想定 */
    width: calc(var(--segment-radius) * 2);
    height: calc(var(--segment-radius) * 2);
    position: relative;
    transform: scale(0.6); /* 表示調整用 (コンテナサイズに合わせて調整) */
}

.roulette-part {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    border-radius: 50%;
    box-sizing: border-box;
    transition: all 0.2s ease-out; /* 色やサイズの変更をスムーズに */
}

/* 重ね順 (z-index) */
#base {
    width: 835px; /* 直径835 */
    height: 835px;
    background: var(--base-color);
    /* 土台の外側に落ちる、少しぼかした影 */
    box-shadow: 0 10px 25px rgba(0,0,0,0.2), inset 0 0 20px rgba(0,0,0,0.1);
    z-index: 1;
}

#segments {
    width: calc(415px * 2); /* 半径415 */
    height: calc(415px * 2);
    background: var(--segments-gradient); 
    /* ウィールの内側になる部分に、うっすらと内向きの影を追加 */
    box-shadow: inset 0 0 40px 20px rgba(0,0,0,0.15);
    z-index: 2;
}

#dividers {
    width: calc(415px * 2); /* 半径415 */
    height: calc(415px * 2);
    z-index: 3;
}

#wheel {
    width: 835px; /* 土台と同じ外周 */
    height: 835px;
    background: transparent; /* ドーナツ型なので背景は透明 */
    border: 50px solid var(--wheel-color); /* 幅50 */
    /* 複数の影をカンマで区切って指定 */
    box-shadow: 
        inset 0 0 0 8px var(--wheel-line-color), /* 内側のライン */
        inset 0 5px 15px rgba(0,0,0,0.1),      /* 内側に落ちる影（くぼんで見える効果） */
        0 2px 5px rgba(0,0,0,0.1);             /* 外側に落ちるわずかな影 */
    z-index: 4;
}

/* JSが生成する仕切り線 */
.divider-line {
    position: absolute;
    top: 0; /* JSが調整 */
    left: 50%;
    width: 5px; /* 幅5 */
    height: 415px; /* 扇の半径と同じ */
    background: var(--divider-color);
    transform-origin: bottom center;
}

#hub {
    width: 160px; /* 半径80 -> 直径160 */
    height: 160px;
    background: var(--hub-bg-color);
    border: 5px solid var(--hub-border-color); /* 幅5 */
    /* 下方向に落ちる影で、浮いているように見せる */
    box-shadow: 0 8px 15px rgba(0,0,0,0.2);
    z-index: 5;
}

#axis {
    width: 43px; /* 直径43 */
    height: 43px;
    background: var(--axis-color);
    border: 2px solid rgba(0,0,0,0.1);
    /* 軸が少し窪んで見えるように内側の影のみにする */
    box-shadow: inset 0 3px 8px rgba(0,0,0,0.2);
    z-index: 5; /* ハブと同じ高さに変更 */
}